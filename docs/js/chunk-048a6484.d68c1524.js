(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-048a6484"],{bb51:function(n,e,t){"use strict";t.r(e);var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"home-wrapper"},[t("a-collapse",[t("a-collapse-panel",{attrs:{header:"封装axios请求数据"}},[t("request-doc")],1)],1)],1)},a=[],o=function(){var n=this,e=n.$createElement;n._self._c;return n._m(0)},s=[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("pre",[n._v("    import axios from 'axios'\n    import setting from '@/setting'\n    import {\n      notification\n    } from 'antd'\n  ")]),t("pre",[n._v("    const iSFormDataType = setting.contentType === 'formData';\n    const formDataContentType = 'application/x-www-form-urlencoded; charset=utf-8'\n    const jsonContentType = 'application/json; charset=utf-8'\n  ")]),t("pre",[n._v("    let instance = axios.create({\n      baseURL: setting.baseUrl,\n      timeout: 1000 * 10,\n      headers: {\n        'Accept': \"application/json; charset=utf-8\",\n        'Content-Type': iSFormDataType ? formDataContentType : jsonContentType\n      },\n      responseType: 'json',\n      transformRequest: [function (data) {\n        if (data) {\n          // 对data进行任意转换处理\n          if (iSFormDataType) {\n            let formDataString = '';\n            let key;\n            for (key in data) {\n              formDataString += '&' + key + '=' + data[key];\n            }\n            formDataString = formDataString.slice(1);\n            return formDataString;\n          } else {\n            return data;\n          }\n        }\n      }]\n    });\n  ")]),t("pre",[n._v("    // 添加请求拦截器\n    instance.interceptors.request.use(function (config) {\n      // 对于请求统一增加token选项\n      // config.headers.token = token;\n      return config;\n    }, function (error) {\n      // 对请求错误做些什么\n      notification.error({\n        message: '发送请求之前，请求错误',\n        description: error.message\n      });\n    });\n  ")]),t("pre",[n._v("    // 添加响应拦截器\n    instance.interceptors.response.use(function (response) {\n      // 对响应数据做点什么\n      return response.data;\n    }, function (error) {\n      // 对响应错误做点什么\n      notification.error({\n        message: '发送请求之后，响应错误',\n        description: error.message\n      });\n    });\n  ")]),t("pre",[n._v("    export default instance;\n  ")])])}],i={name:"request"},c=i,p=t("2877"),f=Object(p["a"])(c,o,s,!1,null,null,null),u=f.exports,l={name:"home",components:{RequestDoc:u}},m=l,d=(t("de16"),Object(p["a"])(m,r,a,!1,null,null,null));e["default"]=d.exports},de16:function(n,e,t){"use strict";var r=t("f3e7"),a=t.n(r);a.a},f3e7:function(n,e,t){}}]);
//# sourceMappingURL=chunk-048a6484.d68c1524.js.map